<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC 
"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
	<class name="com.jkt.dominio.Usuario" table="USUARIO">

		<id name="id" column="USUARIO_ID">
			<generator class="native"></generator>
		</id>

		<property name="codigo" type="string">
			<column name="CODIGO" length="15" />
		</property>

		<property name="nombres" column="NOMBRES" />
		<property name="apellido" column="APELLIDO" />
		<property name="mail" column="MAIL" />
		<property name="activo" column="ACTIVO" type="boolean" />

		<set name="empresasPermitidas" table="USUARIO_EMPRESAS" inverse="false" lazy="false" fetch="select" cascade="all">
			<key column="USUARIO_ID" />
			<many-to-many column="EMPRESA_ID" class="com.jkt.dominio.Empresa" />
		</set>

		<list name="historialPassword" table="HISTORIAL_PASSWORD" lazy="false" cascade="all">
			<key column="USUARIO_ID" />
			<index column="ORDEN" />
			<one-to-many class="com.jkt.dominio.HistorialPassword" />
		</list>

	</class>
</hibernate-mapping>